{% if (testcase.limitedtestresults(100)|length > 50) %}
    <br>
    <br>
    <small>
        <a href="javascript:return false;" data-toggle="collapse" data-target="#testresults-{{ testcase.id }}">Show last 100 results</a>
    </small>

    <div class="collapse" id="testresults-{{ testcase.id }}">
        {% for testresult in testcase.limitedtestresults(100)|slice(50, 100) %}
            <small>
                <span class="datetime label label-{% if (testresult.exitCode == 0) %}success{% elseif (testresult.exitCode == 2 or testresult.exitCode == 3) %}danger{% else %}warning{% endif %}">{{ testresult.datetimeRun|date("Y-m-d H:i") }}</span>
                &nbsp;&nbsp;
                <span class='glyphicon glyphicon-eye-open' aria-hidden='true'></span>
                <a href="{% if (isDemoMode) %}/demo{% endif %}{{ path('testresults.show', {'testresultId': testresult.id}) }}">Log</a>

                {% if (testresult.har) %}
                    &nbsp;&nbsp;
                    <span class='glyphicon glyphicon-align-left' aria-hidden='true'></span>&nbsp;
                    <a target='_blank' href='http://www.softwareishard.com/har/viewer/?inputUrl={{ app.request.getSchemeAndHttpHost() }}{{ path('testresult-show-har', {'testresultId': testresult.id}) }}'>Metrics</a>
                {% endif %}

                {% if (testresult.failScreenshotFilename) %}
                    &nbsp;&nbsp;
                    <span class='glyphicon glyphicon-camera' aria-hidden='true'></span>&nbsp;
                    <a target='_blank' href='{{ path('testresult-screenshots', {'filename': testresult.failScreenshotFilename}) }}.png'>Screenshot</a>
                {% endif %}
            </small>
            <br>
        {% endfor %}
    </div>
{% endif %}
